---
- name: install misc software
  apt:
    name: ["ranger","htop","zathura","vlc","rofi","nitrogen","fd-find","lxappearance","arandr","bat","vnstat","xwallpaper","brightnessctl","tree","xautolock","kcolorchooser","conky","feh","virt-manager","lm-sensors","hddtemp","psensor","qbittorrent","telegram-desktop"]
    update_cache: yes
 
- name: install picom
  apt:
    name: ["libxext-dev", "libxcb1-dev", "libxcb-damage0-dev", "libxcb-xfixes0-dev", "libxcb-shape0-dev", "libxcb-render-util0-dev", "libxcb-render0-dev", "libxcb-randr0-dev", "libxcb-composite0-dev", "libxcb-image0-dev", "libxcb-present-dev", "libxcb-xinerama0-dev", "libxcb-glx0-dev", "libpixman-1-dev", "libdbus-1-dev", "libconfig-dev", "libgl1-mesa-dev", "libpcre2-dev", "libpcre3-dev", "libevdev-dev", "uthash-dev", "libev-dev", "libx11-xcb-dev", "meson"]

- name: clone picom
  git:
    repo: https://github.com/yshui/picom
    dest: /home/drkknght/picom
  become: yes

- name: build picom
  become: yes
  shell: |
    cd /home/drkknght/picom
    git submodule update --init --recursive
    meson --buildtype=release . build
    ninja -C build
    ninja -C build install
    
- name: install keys
  apt_key:
    keyserver: keyserver.ubuntu.com
    id: 41468D9A516AB58268042C6768CCF87596E97291
    
- name: install lazygit repo
  apt_repository:
     repo: deb https://ppa.launchpadcontent.net/lazygit-team/release/ubuntu focal main 
     state: present
     update_cache: True
     
- name: ripgrep installation
  get_url:
    url: https://github.com/BurntSushi/ripgrep/releases/download/13.0.0/ripgrep_13.0.0_amd64.deb
    dest: /home/drkknght/
  become: yes
  become_user: drkknght
  
- name: deb package
  become: yes
  apt:
    deb: /home/drkknght/ripgrep_13.0.0_amd64.deb
