---
- name: clone dotfiles
  import_tasks: dotfiles.yml
  tags: dotfiles
    
- name: clone wallpapers
  import_tasks: wallpapers.yml
  tags: wallpapers

- name: tinker configs and delete unnecessary directories
  import_tasks: config.yml
  tags: change_config
    
     
- name: install stow
  import_tasks: stow.yml
  tags: stow
    
- name: download fonts
  import_tasks: fonts.yml
  tags: fonts

- name: copy lfrun 
  shell: |
    cp $HOME/.dotfiles/lf/.config/lf/lfrun $HOME/usr/bin/
    chmod +x $HOME/.dotfiles/lf/.config/lf/preview
    chmod +x $HOME/.dotfiles/lf/.config/lf/cleaner
    chmod +x $HOME/usr/bin/lfrun

- name: setup brave config
  shell: |
    mkdir -p $HOME/.config/BraveSoftware/Brave-Browser/Default
    cp ~/.dotfiles/brave/Local\ State ~/.config/BraveSoftware/Brave-Browser
    cp ~/.dotfiles/brave/Preferences ~/.config/BraveSoftware/Brave-Browser/Default
  tags: brave-config


- name: setup pam_env
  shell: |
    echo '#!/usr/bin/env bash' > ~/.pam_environment
    echo "PATH=/home/$(whoami)/.pyenv/shims:/home/$(whoami)/.pyenv/bin:/usr/local/go/bin:/home/$(whoami)/.poetry/bin:/home/$(whoami)/go/bin:/usr/local/go/bin:/home/$(whoami)/.local/bin:/home/$(whoami)/usr/bin:/home/$(whoami)/bin/navigation:/home/$(whoami)/bin/network:/home/$(whoami)/bin/screen:/home/$(whoami)/bin/system_scripts:/home/$(whoami)/bin/tmux_scripts:/home/$(whoami)/.cargo/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:$PATH" >> ~/.pam_environment
  tags: pam-config
